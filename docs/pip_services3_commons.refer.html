

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pip_services3_commons.refer package &mdash; pip-services3-commons  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pip_services3_commons.refer.DependencyResolver module" href="pip_services3_commons.refer.DependencyResolver.html" />
    <link rel="prev" title="pip_services3_commons.random.RandomText module" href="pip_services3_commons.random.RandomText.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pip-services3-commons
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">pip_services3_commons</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pip_services3_commons.html">pip_services3_commons package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="pip_services3_commons.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pip_services3_commons.commands.html">pip_services3_commons.commands package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_commons.config.html">pip_services3_commons.config package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_commons.convert.html">pip_services3_commons.convert package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_commons.data.html">pip_services3_commons.data package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_commons.errors.html">pip_services3_commons.errors package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_commons.random.html">pip_services3_commons.random package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">pip_services3_commons.refer package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_commons.reflect.html">pip_services3_commons.reflect package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_commons.run.html">pip_services3_commons.run package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pip_services3_commons.validate.html">pip_services3_commons.validate package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pip_services3_commons.html#module-pip_services3_commons">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pip-services3-commons</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">pip_services3_commons</a> &raquo;</li>
        
          <li><a href="pip_services3_commons.html">pip_services3_commons package</a> &raquo;</li>
        
      <li>pip_services3_commons.refer package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/pip_services3_commons.refer.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pip-services3-commons-refer-package">
<h1>pip_services3_commons.refer package<a class="headerlink" href="#pip-services3-commons-refer-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pip_services3_commons.refer.DependencyResolver.html">pip_services3_commons.refer.DependencyResolver module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pip_services3_commons.refer.DependencyResolver.html#pip-services3-commons-refer-dependencyresolver">pip_services3_commons.refer.DependencyResolver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pip_services3_commons.refer.Descriptor.html">pip_services3_commons.refer.Descriptor module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pip_services3_commons.refer.Descriptor.html#pip-services-runtime-refer-descriptor">pip_services_runtime.refer.Descriptor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pip_services3_commons.refer.IReferenceable.html">pip_services3_commons.refer.IReferenceable module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pip_services3_commons.refer.IReferenceable.html#pip-services3-commons-refer-ireferenceable">pip_services3_commons.refer.IReferenceable</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pip_services3_commons.refer.IReferences.html">pip_services3_commons.refer.IReferences module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pip_services3_commons.refer.IReferences.html#pip-services3-commons-refer-ireferences">pip_services3_commons.refer.IReferences</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pip_services3_commons.refer.IUnreferenceable.html">pip_services3_commons.refer.IUnreferenceable module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pip_services3_commons.refer.IUnreferenceable.html#pip-services3-commons-refer-iunreferenceable">pip_services3_commons.refer.IUnreferenceable</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pip_services3_commons.refer.Reference.html">pip_services3_commons.refer.Reference module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pip_services3_commons.refer.Reference.html#pip-services3-commons-refer-reference">pip_services3_commons.refer.Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pip_services3_commons.refer.ReferenceException.html">pip_services3_commons.refer.ReferenceException module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pip_services3_commons.refer.ReferenceException.html#pip-services-common-refer-referenceexception">pip_services_common.refer.ReferenceException</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pip_services3_commons.refer.Referencer.html">pip_services3_commons.refer.Referencer module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pip_services3_commons.refer.Referencer.html#pip-services3-commons-refer-referencer">pip_services3_commons.refer.Referencer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pip_services3_commons.refer.References.html">pip_services3_commons.refer.References module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pip_services3_commons.refer.References.html#pip-services3-commons-refer-references">pip_services3_commons.refer.References</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="module-pip_services3_commons.refer">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pip_services3_commons.refer" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pip-services3-commons-refer-init">
<h3>pip_services3_commons.refer.__init__<a class="headerlink" href="#pip-services3-commons-refer-init" title="Permalink to this headline">¶</a></h3>
<p>Inversion of control design pattern. There exist various implementations,
a popular one being “inversion of dependency”. Requires introspection and
is implemented differently in different languages. In PipServices, the “location
design pattern” is used, which is much simpler than dependency injection and is
a simple implementation, that is portable between languages. Used for building
various containers, as well as testing objects.</p>
<dl class="field-list simple">
<dt class="field-odd">copyright</dt>
<dd class="field-odd"><p>Conceptual Vision Consulting LLC 2018-2019, see AUTHORS for more details.</p>
</dd>
<dt class="field-even">license</dt>
<dd class="field-even"><p>MIT, see LICENSE for more details.</p>
</dd>
</dl>
<dl class="py class">
<dt id="pip_services3_commons.refer.DependencyResolver">
<em class="property">class </em><code class="sig-prename descclassname">pip_services3_commons.refer.</code><code class="sig-name descname">DependencyResolver</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pip_services3_commons.config.ConfigParams.html#pip_services3_commons.config.ConfigParams.ConfigParams" title="pip_services3_commons.config.ConfigParams.ConfigParams">pip_services3_commons.config.ConfigParams.ConfigParams</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">references</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pip_services3_commons.refer.IReferences.html#pip_services3_commons.refer.IReferences.IReferences" title="pip_services3_commons.refer.IReferences.IReferences">pip_services3_commons.refer.IReferences.IReferences</a></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pip_services3_commons.config.IReconfigurable.html#pip_services3_commons.config.IReconfigurable.IReconfigurable" title="pip_services3_commons.config.IReconfigurable.IReconfigurable"><code class="xref py py-class docutils literal notranslate"><span class="pre">pip_services3_commons.config.IReconfigurable.IReconfigurable</span></code></a>, <a class="reference internal" href="pip_services3_commons.refer.IReferenceable.html#pip_services3_commons.refer.IReferenceable.IReferenceable" title="pip_services3_commons.refer.IReferenceable.IReferenceable"><code class="xref py py-class docutils literal notranslate"><span class="pre">pip_services3_commons.refer.IReferenceable.IReferenceable</span></code></a></p>
<p>Helper class for resolving component dependencies.
The resolver is configured to resolve named dependencies by specific locator.
During deployment the dependency locator can be changed.</p>
<p>This mechanism can be used to clarify specific dependency among several alternatives.
Typically components are configured to retrieve the first dependency that matches
logical group, type and version. But if container contains more than one instance
and resolution has to be specific about those instances, they can be given a unique
name and dependency resolvers can be reconfigured to retrieve dependencies by their name.</p>
<p>### Configuration parameters ###
dependencies:</p>
<blockquote>
<div><ul class="simple">
<li><p>[dependency name 1]: Dependency 1 locator (descriptor)</p></li>
<li><p>…</p></li>
<li><p>[dependency name N]: Dependency N locator (descriptor)</p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>References:</dt><dd><ul class="simple">
<li><p>References must match configured dependencies.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyComponent</span><span class="p">(</span><span class="n">IConfigurable</span><span class="p">,</span> <span class="n">IReferenceable</span><span class="p">):</span>
    <span class="n">_dependencyResolver</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_persistence</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dependencyResolver</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;persistence&quot;</span><span class="p">,</span> <span class="n">new</span> <span class="n">Descriptor</span><span class="p">(</span><span class="s2">&quot;mygroup&quot;</span><span class="p">,</span> <span class="s2">&quot;persistence&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;1.0&quot;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dependencyResolver</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_references</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">references</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dependencyResolver</span><span class="o">.</span><span class="n">setReferences</span><span class="p">(</span><span class="n">references</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_persistence</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dependencyResolver</span><span class="o">.</span><span class="n">get_one_required</span><span class="p">(</span><span class="s2">&quot;persistence&quot;</span><span class="p">)</span>

    <span class="n">component</span> <span class="o">=</span> <span class="n">MyComponent</span><span class="p">()</span>
    <span class="n">component</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">ConfigParams</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span>
    <span class="s2">&quot;dependencies.persistence&quot;</span><span class="p">,</span> <span class="s2">&quot;mygroup:persistence:*:persistence2:1.0&quot;</span><span class="p">))</span>

    <span class="n">component</span><span class="o">.</span><span class="n">set_references</span><span class="p">(</span><span class="n">References</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="n">Descriptor</span><span class="p">(</span><span class="s2">&quot;mygroup&quot;</span><span class="p">,</span><span class="s2">&quot;persistence&quot;</span><span class="p">,</span><span class="s2">&quot;*&quot;</span><span class="p">,</span><span class="s2">&quot;persistence1&quot;</span><span class="p">,</span><span class="s2">&quot;1.0&quot;</span><span class="p">),</span>
    <span class="n">MyPersistence</span><span class="p">(),</span>
    <span class="n">Descriptor</span><span class="p">(</span><span class="s2">&quot;mygroup&quot;</span><span class="p">,</span><span class="s2">&quot;persistence&quot;</span><span class="p">,</span><span class="s2">&quot;*&quot;</span><span class="p">,</span><span class="s2">&quot;persistence2&quot;</span><span class="p">,</span><span class="s2">&quot;1.0&quot;</span><span class="p">),</span> <span class="n">MyPersistence</span><span class="p">()</span>
    <span class="c1"># This dependency shall be set))</span>
</pre></div>
</div>
<dl class="py method">
<dt id="pip_services3_commons.refer.DependencyResolver.configure">
<code class="sig-name descname">configure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pip_services3_commons.config.ConfigParams.html#pip_services3_commons.config.ConfigParams.ConfigParams" title="pip_services3_commons.config.ConfigParams.ConfigParams">pip_services3_commons.config.ConfigParams.ConfigParams</a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures the component with specified parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – configuration parameters to set.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.DependencyResolver.find">
<code class="sig-name descname">find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n"><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">required</span><span class="p">:</span> <span class="n"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span></em><span class="sig-paren">)</span> &#x2192; Optional<span class="p">[</span>List<span class="p">[</span>Any<span class="p">]</span><span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all matching dependencies by their name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the dependency name to locate.</p></li>
<li><p><strong>required</strong> – true to raise an error when no dependencies are found.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of found dependencies</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.DependencyResolver.from_tuples">
<em class="property">static </em><code class="sig-name descname">from_tuples</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">tuples</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="pip_services3_commons.refer.DependencyResolver.html#pip_services3_commons.refer.DependencyResolver.DependencyResolver" title="pip_services3_commons.refer.DependencyResolver.DependencyResolver">pip_services3_commons.refer.DependencyResolver.DependencyResolver</a><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.from_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new DependencyResolver from a list of key-args pairs called tuples
where key is dependency name and args the depedency locator (descriptor).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tuples</strong> – a list of values where odd elements are dependency name</p>
</dd>
</dl>
<p>and the following even elements are dependency locator (descriptor)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a newly created DependencyResolver.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.DependencyResolver.get_one_optional">
<code class="sig-name descname">get_one_optional</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n"><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.get_one_optional" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets one optional dependency by its name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the dependency name to locate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dependency reference or null of the dependency was not found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.DependencyResolver.get_one_required">
<code class="sig-name descname">get_one_required</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n"><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.get_one_required" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets one __required dependency by its name.
At least one dependency must present. If the dependency was found it throws a <a class="reference internal" href="pip_services3_commons.refer.ReferenceException.html#pip_services3_commons.refer.ReferenceException.ReferenceException" title="pip_services3_commons.refer.ReferenceException.ReferenceException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReferenceException</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the dependency name to locate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dependency reference</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.DependencyResolver.get_optional">
<code class="sig-name descname">get_optional</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n"><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Any<span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.get_optional" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all optional dependencies by their name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the dependency name to locate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list with found dependencies or empty list of no dependencies was found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.DependencyResolver.get_required">
<code class="sig-name descname">get_required</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n"><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Any<span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.get_required" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all __required dependencies by their name.
At least one dependency must be present. If no dependencies was found it throws a <a class="reference internal" href="pip_services3_commons.refer.ReferenceException.html#pip_services3_commons.refer.ReferenceException.ReferenceException" title="pip_services3_commons.refer.ReferenceException.ReferenceException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReferenceException</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the dependency name to locate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list with found dependencies.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.DependencyResolver.put">
<code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n"><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new dependency into this resolver.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the dependency’s name.</p></li>
<li><p><strong>locator</strong> – the locator to find the dependency by.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.DependencyResolver.set_references">
<code class="sig-name descname">set_references</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">references</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pip_services3_commons.refer.IReferences.html#pip_services3_commons.refer.IReferences.IReferences" title="pip_services3_commons.refer.IReferences.IReferences">pip_services3_commons.refer.IReferences.IReferences</a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.set_references" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the component references. References must match configured dependencies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>references</strong> – references to set.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pip_services3_commons.refer.Descriptor">
<em class="property">class </em><code class="sig-prename descclassname">pip_services3_commons.refer.</code><code class="sig-name descname">Descriptor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">type</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">kind</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">version</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><span class="p">]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.Descriptor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Locator type that most often used in PipServices toolkit.
It locates components using several fields:</p>
<blockquote>
<div><ul class="simple">
<li><p>Group: a package or just named group of components like “pip-services”</p></li>
<li><p>Type: logical component type that defines it’s contract like “persistence”</p></li>
<li><p>Kind: physical implementation type like “mongodb”</p></li>
<li><p>Name: unique component name like “default”</p></li>
<li><p>Version: version of the component contract like “1.0”</p></li>
</ul>
</div></blockquote>
<p>The locator matching can be done by all or only few selected fields.
The fields that shall be excluded from the matching must be set to <strong>“*”</strong> or <strong>None</strong>.
That approach allows to implement many interesting scenarios. For instance:</p>
<blockquote>
<div><ul class="simple">
<li><p>Locate all loggers (match by type and version)</p></li>
<li><p>Locate persistence components for a microservice (match by group and type)</p></li>
<li><p>Locate specific component by its name (match by name)</p></li>
</ul>
</div></blockquote>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">locator1</span> <span class="o">=</span> <span class="n">Descriptor</span><span class="p">(</span><span class="s2">&quot;mygroup&quot;</span><span class="p">,</span> <span class="s2">&quot;connector&quot;</span><span class="p">,</span> <span class="s2">&quot;aws&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
<span class="n">locator2</span> <span class="o">=</span> <span class="n">Descriptor</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="s2">&quot;mygroup:connector:*:*:1.0&quot;</span><span class="p">)</span>

<span class="n">locator1</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">locator2</span><span class="p">);</span>               <span class="o">//</span> <span class="n">Result</span><span class="p">:</span> <span class="n">true</span>
<span class="n">locator1</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="n">locator2</span><span class="p">);</span>          <span class="o">//</span> <span class="n">Result</span><span class="p">:</span> <span class="n">true</span>
<span class="n">locator1</span><span class="o">.</span><span class="n">exact_match</span><span class="p">(</span><span class="n">locator2</span><span class="p">);</span> <span class="o">//</span> <span class="n">Result</span><span class="p">:</span> <span class="n">false</span>
</pre></div>
</div>
<dl class="py method">
<dt id="pip_services3_commons.refer.Descriptor.equals">
<code class="sig-name descname">equals</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a><a class="headerlink" href="#pip_services3_commons.refer.Descriptor.equals" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares this descriptor to a args.
If args is a Descriptor it tries to match them, otherwise the method returns false.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – the args to match against this descriptor.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if the args is matching descriptor and false otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Descriptor.exact_match">
<code class="sig-name descname">exact_match</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pip_services3_commons.refer.Descriptor.html#pip_services3_commons.refer.Descriptor.Descriptor" title="pip_services3_commons.refer.Descriptor.Descriptor">pip_services3_commons.refer.Descriptor.Descriptor</a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a><a class="headerlink" href="#pip_services3_commons.refer.Descriptor.exact_match" title="Permalink to this definition">¶</a></dt>
<dd><p>Matches this descriptor to another descriptor by all fields. No exceptions are made.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>descriptor</strong> – the descriptor to match this one against.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if descriptors match and false otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Descriptor.from_string">
<em class="property">static </em><code class="sig-name descname">from_string</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n"><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em><span class="sig-paren">)</span> &#x2192; Optional<span class="p">[</span><a class="reference internal" href="pip_services3_commons.refer.Descriptor.html#pip_services3_commons.refer.Descriptor.Descriptor" title="pip_services3_commons.refer.Descriptor.Descriptor">pip_services3_commons.refer.Descriptor.Descriptor</a><span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.Descriptor.from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses colon-separated list of descriptor fields and returns them as a Descriptor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – colon-separated descriptor fields to initialize Descriptor.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a newly created Descriptor.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Descriptor.get_group">
<code class="sig-name descname">get_group</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><a class="headerlink" href="#pip_services3_commons.refer.Descriptor.get_group" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Gets the component’s logical group.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the component’s logical group</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Descriptor.get_kind">
<code class="sig-name descname">get_kind</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><a class="headerlink" href="#pip_services3_commons.refer.Descriptor.get_kind" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the component’s implementation type.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the component’s implementation type.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Descriptor.get_name">
<code class="sig-name descname">get_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><a class="headerlink" href="#pip_services3_commons.refer.Descriptor.get_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the unique component’s name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the unique component’s name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Descriptor.get_type">
<code class="sig-name descname">get_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><a class="headerlink" href="#pip_services3_commons.refer.Descriptor.get_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the component’s logical type.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the component’s logical type.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Descriptor.get_version">
<code class="sig-name descname">get_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><a class="headerlink" href="#pip_services3_commons.refer.Descriptor.get_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the component’s implementation version.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the component’s implementation version.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Descriptor.is_complete">
<code class="sig-name descname">is_complete</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a><a class="headerlink" href="#pip_services3_commons.refer.Descriptor.is_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether all descriptor fields are set.
If descriptor has at least one “*” or null field it is considered “incomplete”</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>true if all descriptor fields are defined and false otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Descriptor.match">
<code class="sig-name descname">match</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pip_services3_commons.refer.Descriptor.html#pip_services3_commons.refer.Descriptor.Descriptor" title="pip_services3_commons.refer.Descriptor.Descriptor">pip_services3_commons.refer.Descriptor.Descriptor</a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a><a class="headerlink" href="#pip_services3_commons.refer.Descriptor.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Partially matches this descriptor to another descriptor.
Fields that contain “*” or null are excluded from the match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>descriptor</strong> – the descriptor to match this one against.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if descriptors match and false otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Descriptor.to_string">
<code class="sig-name descname">to_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><a class="headerlink" href="#pip_services3_commons.refer.Descriptor.to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a string representation of the object.
The result is a colon-separated list of descriptor fields as “mygroup:connector:aws:default:1.0”</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a string representation of the object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pip_services3_commons.refer.IReferenceable">
<em class="property">class </em><code class="sig-prename descclassname">pip_services3_commons.refer.</code><code class="sig-name descname">IReferenceable</code><a class="headerlink" href="#pip_services3_commons.refer.IReferenceable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a></p>
<p>Interface for components that depends on obj components.
If component requires explicit notification to unset references
it shall additionally implement <a class="reference internal" href="pip_services3_commons.refer.IUnreferenceable.html#pip_services3_commons.refer.IUnreferenceable.IUnreferenceable" title="pip_services3_commons.refer.IUnreferenceable.IUnreferenceable"><code class="xref py py-class docutils literal notranslate"><span class="pre">IUnreferenceable</span></code></a> interface.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyController</span><span class="p">(</span><span class="n">IReferenceable</span><span class="p">):</span>
    <span class="n">_persistence</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">set_references</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">references</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_persistence</span> <span class="o">=</span> <span class="n">references</span><span class="o">.</span><span class="n">get_one_required</span><span class="p">(</span><span class="n">Descriptor</span><span class="p">(</span><span class="s2">&quot;mygroup&quot;</span><span class="p">,</span> <span class="s2">&quot;persistence&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;1.0&quot;</span><span class="p">))</span>
</pre></div>
</div>
<dl class="py method">
<dt id="pip_services3_commons.refer.IReferenceable.set_references">
<code class="sig-name descname">set_references</code><span class="sig-paren">(</span><em class="sig-param">references: &lt;module 'pip_services3_commons.refer.IReferences' from '/pip_services3_commons/refer/IReferences.py'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.IReferenceable.set_references" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets references to dependent components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>references</strong> – references to locate the component dependencies.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pip_services3_commons.refer.IReferences">
<em class="property">class </em><code class="sig-prename descclassname">pip_services3_commons.refer.</code><code class="sig-name descname">IReferences</code><a class="headerlink" href="#pip_services3_commons.refer.IReferences" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a></p>
<p>Interface for a map that holds component references and passes them to components
to establish dependencies with each obj.</p>
<p>Together with <a class="reference internal" href="pip_services3_commons.refer.IReferenceable.html#pip_services3_commons.refer.IReferenceable.IReferenceable" title="pip_services3_commons.refer.IReferenceable.IReferenceable"><code class="xref py py-class docutils literal notranslate"><span class="pre">IReferenceable</span></code></a> and <a class="reference internal" href="pip_services3_commons.refer.IUnreferenceable.html#pip_services3_commons.refer.IUnreferenceable.IUnreferenceable" title="pip_services3_commons.refer.IUnreferenceable.IUnreferenceable"><code class="xref py py-class docutils literal notranslate"><span class="pre">IUnreferenceable</span></code></a> interfaces it implements
a Locator pattern that is used by PipServices toolkit for Inversion of Control
to assign external dependencies to components.</p>
<p>The IReferences object is a simple map, where keys are locators
and values are component references. It allows to add, remove and find components
by their locators. Locators can be any values like integers, strings or component types.
But most often PipServices toolkit uses <a class="reference internal" href="pip_services3_commons.refer.Descriptor.html#pip_services3_commons.refer.Descriptor.Descriptor" title="pip_services3_commons.refer.Descriptor.Descriptor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Descriptor</span></code></a> as locators that match
by 5 fields: group, type, kind, name and version.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyController</span><span class="p">(</span><span class="n">IReferences</span><span class="p">):</span>
    <span class="n">_persistence</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">set_references</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">references</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_persistence</span> <span class="o">=</span> <span class="n">references</span><span class="o">.</span><span class="n">get_one_required</span><span class="p">(</span><span class="n">Descriptor</span><span class="p">(</span><span class="s2">&quot;mygroup&quot;</span><span class="p">,</span> <span class="s2">&quot;persistence&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;1.0&quot;</span><span class="p">))</span>

<span class="n">persistence</span> <span class="o">=</span> <span class="n">MyMongoDbPersistence</span><span class="p">()</span>

<span class="n">references</span> <span class="o">=</span> <span class="n">References</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span>
<span class="n">Descriptor</span><span class="p">(</span><span class="s2">&quot;mygroup&quot;</span><span class="p">,</span> <span class="s2">&quot;persistence&quot;</span><span class="p">,</span> <span class="s2">&quot;mongodb&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;1.0&quot;</span><span class="p">),</span> <span class="n">persistence</span><span class="p">,</span>
<span class="n">Descriptor</span><span class="p">(</span><span class="s2">&quot;mygroup&quot;</span><span class="p">,</span> <span class="s2">&quot;controller&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;1.0&quot;</span><span class="p">),</span> <span class="n">controller</span><span class="p">)</span>

<span class="n">controller</span><span class="o">.</span><span class="n">set_references</span><span class="p">(</span><span class="n">references</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="pip_services3_commons.refer.IReferences.find">
<code class="sig-name descname">find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">required</span><span class="p">:</span> <span class="n"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Any<span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.IReferences.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all component references that match specified locator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locator</strong> – the locator to find a reference by.</p></li>
<li><p><strong>required</strong> – forces to raise an error if no reference is found.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list with matching component references.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>a <a class="reference internal" href="pip_services3_commons.refer.ReferenceException.html#pip_services3_commons.refer.ReferenceException.ReferenceException" title="pip_services3_commons.refer.ReferenceException.ReferenceException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReferenceException</span></code></a> when __required is set to true but no references found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.IReferences.get_all">
<code class="sig-name descname">get_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Any<span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.IReferences.get_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all component references registered in this reference map.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list with component references.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.IReferences.get_all_locators">
<code class="sig-name descname">get_all_locators</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Any<span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.IReferences.get_all_locators" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets locators for all registered component references in this reference map.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list with component locators.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.IReferences.get_one_before">
<code class="sig-name descname">get_one_before</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">reference</span></em>, <em class="sig-param"><span class="n">locator</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.IReferences.get_one_before" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.IReferences.get_one_optional">
<code class="sig-name descname">get_one_optional</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#pip_services3_commons.refer.IReferences.get_one_optional" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets an optional component reference that matches specified locator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>locator</strong> – the locator to find references by.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a matching component reference or null if nothing was found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.IReferences.get_one_required">
<code class="sig-name descname">get_one_required</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#pip_services3_commons.refer.IReferences.get_one_required" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a __required component reference that matches specified locator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>locator</strong> – the locator to find a reference by.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a matching component reference.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>a <a class="reference internal" href="pip_services3_commons.refer.ReferenceException.html#pip_services3_commons.refer.ReferenceException.ReferenceException" title="pip_services3_commons.refer.ReferenceException.ReferenceException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReferenceException</span></code></a> when no references found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.IReferences.get_optional">
<code class="sig-name descname">get_optional</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Any<span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.IReferences.get_optional" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all component references that match specified locator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>locator</strong> – the locator to find references by.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list with matching component references or empty list if nothing was found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.IReferences.get_required">
<code class="sig-name descname">get_required</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Any<span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.IReferences.get_required" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all component references that match specified locator.
At least one component reference must be present. If it doesn’t the method throws an error.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>locator</strong> – the locator to find references by.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list with matching component references.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>a <a class="reference internal" href="pip_services3_commons.refer.ReferenceException.html#pip_services3_commons.refer.ReferenceException.ReferenceException" title="pip_services3_commons.refer.ReferenceException.ReferenceException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReferenceException</span></code></a> when no references found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.IReferences.put">
<code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">reference</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.IReferences.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts a new reference into this reference map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locator</strong> – a component reference to be added.</p></li>
<li><p><strong>reference</strong> – a locator to find the reference by.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.IReferences.remove">
<code class="sig-name descname">remove</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#pip_services3_commons.refer.IReferences.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a previously added reference that matches specified locator.
If many references match the locator, it removes only the first one.
When all references shall be removed, use :func:remove_all method instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>locator</strong> – a locator to remove reference</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the removed component reference.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.IReferences.remove_all">
<code class="sig-name descname">remove_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Any<span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.IReferences.remove_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all component references that match the specified locator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>locator</strong> – a locator to remove reference</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list, containing all removed references.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pip_services3_commons.refer.IUnreferenceable">
<em class="property">class </em><code class="sig-prename descclassname">pip_services3_commons.refer.</code><code class="sig-name descname">IUnreferenceable</code><a class="headerlink" href="#pip_services3_commons.refer.IUnreferenceable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a></p>
<p>Interface for components that require explicit clearing of references to dependent components.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyController</span><span class="p">(</span><span class="n">IReferenceable</span><span class="p">):</span>
    <span class="n">_persistence</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">set_references</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">references</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_persistence</span> <span class="o">=</span> <span class="n">references</span><span class="o">.</span><span class="n">getOneRequired</span><span class="p">(</span><span class="n">Descriptor</span><span class="p">(</span><span class="s2">&quot;mygroup&quot;</span><span class="p">,</span> <span class="s2">&quot;persistence&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;1.0&quot;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">unset_references</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_persistence</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
<dl class="py method">
<dt id="pip_services3_commons.refer.IUnreferenceable.unset_references">
<code class="sig-name descname">unset_references</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.IUnreferenceable.unset_references" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsets (clears) previously set references to dependent components.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pip_services3_commons.refer.Reference">
<em class="property">class </em><code class="sig-prename descclassname">pip_services3_commons.refer.</code><code class="sig-name descname">Reference</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">component</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.Reference" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Contains a reference to a component and locator to find it.
It is used by <a class="reference internal" href="pip_services3_commons.refer.References.html#pip_services3_commons.refer.References.References" title="pip_services3_commons.refer.References.References"><code class="xref py py-class docutils literal notranslate"><span class="pre">References</span></code></a> to store registered component references.</p>
<dl class="py method">
<dt id="pip_services3_commons.refer.Reference.get_component">
<code class="sig-name descname">get_component</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#pip_services3_commons.refer.Reference.get_component" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the stored component reference.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the component’s references.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Reference.get_locator">
<code class="sig-name descname">get_locator</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#pip_services3_commons.refer.Reference.get_locator" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the stored component locator.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the component’s locator.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Reference.match">
<code class="sig-name descname">match</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a><a class="headerlink" href="#pip_services3_commons.refer.Reference.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Matches locator to this reference locator. Descriptors are matched using equal method.
All obj locator types are matched using direct comparison.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>locator</strong> – the locator to match.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if locators are matching and false it they don’t.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="pip_services3_commons.refer.ReferenceException">
<em class="property">exception </em><code class="sig-prename descclassname">pip_services3_commons.refer.</code><code class="sig-name descname">ReferenceException</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">correlation_id</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.ReferenceException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pip_services3_commons.errors.InternalException.html#pip_services3_commons.errors.InternalException.InternalException" title="pip_services3_commons.errors.InternalException.InternalException"><code class="xref py py-class docutils literal notranslate"><span class="pre">pip_services3_commons.errors.InternalException.InternalException</span></code></a></p>
<p>Error when __required component dependency cannot be found.</p>
</dd></dl>

<dl class="py class">
<dt id="pip_services3_commons.refer.Referencer">
<em class="property">class </em><code class="sig-prename descclassname">pip_services3_commons.refer.</code><code class="sig-name descname">Referencer</code><a class="headerlink" href="#pip_services3_commons.refer.Referencer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Helper class that sets and unsets references to components.</p>
<dl class="py method">
<dt id="pip_services3_commons.refer.Referencer.set_references">
<em class="property">static </em><code class="sig-name descname">set_references</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">references</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pip_services3_commons.refer.IReferences.html#pip_services3_commons.refer.IReferences.IReferences" title="pip_services3_commons.refer.IReferences.IReferences">pip_services3_commons.refer.IReferences.IReferences</a></span></em>, <em class="sig-param"><span class="n">components</span><span class="p">:</span> <span class="n">List<span class="p">[</span>Any<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.Referencer.set_references" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets references to multiple components.</p>
<p>To set references components must implement <a class="reference internal" href="pip_services3_commons.refer.IReferenceable.html#pip_services3_commons.refer.IReferenceable.IReferenceable" title="pip_services3_commons.refer.IReferenceable.IReferenceable"><code class="xref py py-class docutils literal notranslate"><span class="pre">IReferenceable</span></code></a> interface.
If they don’t the call to this method has no effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>references</strong> – the references to be set.</p></li>
<li><p><strong>components</strong> – a list of components to set the references to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Referencer.set_references_for_one">
<em class="property">static </em><code class="sig-name descname">set_references_for_one</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">references</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pip_services3_commons.refer.IReferences.html#pip_services3_commons.refer.IReferences.IReferences" title="pip_services3_commons.refer.IReferences.IReferences">pip_services3_commons.refer.IReferences.IReferences</a></span></em>, <em class="sig-param"><span class="n">component</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.Referencer.set_references_for_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets references to specific component.</p>
<p>To set references components must implement <a class="reference internal" href="pip_services3_commons.refer.IReferenceable.html#pip_services3_commons.refer.IReferenceable.IReferenceable" title="pip_services3_commons.refer.IReferenceable.IReferenceable"><code class="xref py py-class docutils literal notranslate"><span class="pre">IReferenceable</span></code></a> interface.
If they don’t the call to this method has no effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>references</strong> – the references to be set.</p></li>
<li><p><strong>component</strong> – the component to set references to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Referencer.unset_references">
<em class="property">static </em><code class="sig-name descname">unset_references</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">components</span><span class="p">:</span> <span class="n">List<span class="p">[</span>Any<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.Referencer.unset_references" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsets references in multiple components.</p>
<p>To unset references components must implement <a class="reference internal" href="pip_services3_commons.refer.IUnreferenceable.html#pip_services3_commons.refer.IUnreferenceable.IUnreferenceable" title="pip_services3_commons.refer.IUnreferenceable.IUnreferenceable"><code class="xref py py-class docutils literal notranslate"><span class="pre">IUnreferenceable</span></code></a> interface.
If they don’t the call to this method has no effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>components</strong> – the list of components, whose references must be cleared.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.Referencer.unset_references_for_one">
<em class="property">static </em><code class="sig-name descname">unset_references_for_one</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">component</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.Referencer.unset_references_for_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsets references in specific component.</p>
<p>To unset references components must implement <a class="reference internal" href="pip_services3_commons.refer.IUnreferenceable.html#pip_services3_commons.refer.IUnreferenceable.IUnreferenceable" title="pip_services3_commons.refer.IUnreferenceable.IUnreferenceable"><code class="xref py py-class docutils literal notranslate"><span class="pre">IUnreferenceable</span></code></a> interface.
If they don’t the call to this method has no effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>component</strong> – the component to unset references.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pip_services3_commons.refer.References">
<em class="property">class </em><code class="sig-prename descclassname">pip_services3_commons.refer.</code><code class="sig-name descname">References</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tuples</span><span class="p">:</span> <span class="n">Sequence<span class="p">[</span>Any<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.References" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pip_services3_commons.refer.IReferences.html#pip_services3_commons.refer.IReferences.IReferences" title="pip_services3_commons.refer.IReferences.IReferences"><code class="xref py py-class docutils literal notranslate"><span class="pre">pip_services3_commons.refer.IReferences.IReferences</span></code></a></p>
<p>The most basic implementation of <a class="reference internal" href="pip_services3_commons.refer.IReferences.html#pip_services3_commons.refer.IReferences.IReferences" title="pip_services3_commons.refer.IReferences.IReferences"><code class="xref py py-class docutils literal notranslate"><span class="pre">IReferences</span></code></a> to store and locate component references.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyController</span><span class="p">(</span><span class="n">IReferenceable</span><span class="p">):</span>
    <span class="n">_persistence</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">set_references</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">references</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_persistence</span> <span class="o">=</span> <span class="n">references</span><span class="o">.</span><span class="n">getOneRequired</span><span class="p">(</span><span class="n">Descriptor</span><span class="p">(</span><span class="s2">&quot;mygroup&quot;</span><span class="p">,</span> <span class="s2">&quot;persistence&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;1.0&quot;</span><span class="p">))</span>

<span class="n">persistence</span> <span class="o">=</span> <span class="n">MyMongoDbPersistence</span><span class="p">()</span>

<span class="n">references</span> <span class="o">=</span> <span class="n">References</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span>
<span class="n">Descriptor</span><span class="p">(</span><span class="s2">&quot;mygroup&quot;</span><span class="p">,</span> <span class="s2">&quot;persistence&quot;</span><span class="p">,</span> <span class="s2">&quot;mongodb&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;1.0&quot;</span><span class="p">),</span> <span class="n">persistence</span><span class="p">,</span>
<span class="n">Descriptor</span><span class="p">(</span><span class="s2">&quot;mygroup&quot;</span><span class="p">,</span> <span class="s2">&quot;controller&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;1.0&quot;</span><span class="p">),</span> <span class="n">controller</span><span class="p">)</span>

<span class="n">controller</span><span class="o">.</span><span class="n">set_references</span><span class="p">(</span><span class="n">references</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="pip_services3_commons.refer.References.find">
<code class="sig-name descname">find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">required</span><span class="p">:</span> <span class="n"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Any<span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.References.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all component references that match specified locator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locator</strong> – the locator to find a reference by.</p></li>
<li><p><strong>required</strong> – forces to raise an error if no reference is found.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list with matching component references.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>a <a class="reference internal" href="pip_services3_commons.refer.ReferenceException.html#pip_services3_commons.refer.ReferenceException.ReferenceException" title="pip_services3_commons.refer.ReferenceException.ReferenceException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReferenceException</span></code></a> when __required is set to true but no references found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.References.from_tuples">
<em class="property">static </em><code class="sig-name descname">from_tuples</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">tuples</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="pip_services3_commons.refer.References.html#pip_services3_commons.refer.References.References" title="pip_services3_commons.refer.References.References">pip_services3_commons.refer.References.References</a><a class="headerlink" href="#pip_services3_commons.refer.References.from_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new References from a list of key-args pairs called tuples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tuples</strong> – a list of values where odd elements are locators
and the following even elements are component references</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a newly created References.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.References.get_all">
<code class="sig-name descname">get_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Any<span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.References.get_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all component references registered in this reference map.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list with component references.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.References.get_all_locators">
<code class="sig-name descname">get_all_locators</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Any<span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.References.get_all_locators" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets locators for all registered component references in this reference map.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list with component locators.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.References.get_one_optional">
<code class="sig-name descname">get_one_optional</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#pip_services3_commons.refer.References.get_one_optional" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets an optional component reference that matches specified locator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>locator</strong> – the locator to find references by.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a matching component reference or null if nothing was found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.References.get_one_required">
<code class="sig-name descname">get_one_required</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#pip_services3_commons.refer.References.get_one_required" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a __required component reference that matches specified locator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>locator</strong> – the locator to find a reference by.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a matching component reference.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>a <a class="reference internal" href="pip_services3_commons.refer.ReferenceException.html#pip_services3_commons.refer.ReferenceException.ReferenceException" title="pip_services3_commons.refer.ReferenceException.ReferenceException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReferenceException</span></code></a> when no references found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.References.get_optional">
<code class="sig-name descname">get_optional</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Any<span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.References.get_optional" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all component references that match specified locator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>locator</strong> – the locator to find references by.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list with matching component references or empty list if nothing was found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.References.get_required">
<code class="sig-name descname">get_required</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Any<span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.References.get_required" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all component references that match specified locator.
At least one component reference must be present. If it doesn’t the method throws an error.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>locator</strong> – the locator to find references by.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list with matching component references.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>a <a class="reference internal" href="pip_services3_commons.refer.ReferenceException.html#pip_services3_commons.refer.ReferenceException.ReferenceException" title="pip_services3_commons.refer.ReferenceException.ReferenceException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReferenceException</span></code></a> when no references found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.References.put">
<code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">component</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.References.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts a new reference into this reference map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locator</strong> – a component reference to be added.</p></li>
<li><p><strong>component</strong> – a locator to find the reference by.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.References.remove">
<code class="sig-name descname">remove</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#pip_services3_commons.refer.References.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a previously added reference that matches specified locator.
If many references match the locator, it removes only the first one.
When all references shall be removed, use <a class="reference internal" href="#pip_services3_commons.refer.References.remove_all" title="pip_services3_commons.refer.References.remove_all"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_all()</span></code></a> method instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>locator</strong> – a locator to remove reference</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the removed component reference.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pip_services3_commons.refer.References.remove_all">
<code class="sig-name descname">remove_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">locator</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Any<span class="p">]</span><a class="headerlink" href="#pip_services3_commons.refer.References.remove_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all component references that match the specified locator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>locator</strong> – a locator to remove reference by.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list, containing all removed references.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="pip_services3_commons.refer.DependencyResolver.html" class="btn btn-neutral float-right" title="pip_services3_commons.refer.DependencyResolver module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="pip_services3_commons.random.RandomText.html" class="btn btn-neutral float-left" title="pip_services3_commons.random.RandomText module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Sergey Seroukhov.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>